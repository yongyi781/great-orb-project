@{
    ViewData["Title"] = "Spawn Lister";
}

<h2>Spawn Lister</h2>
<div>
    <button name="altar" id="noneButton" class="btn btn-primary" value="0">None</button>
    <button name="altar" id="airButton" class="btn btn-primary" value="1">Air altar</button>
    <button name="altar" id="mindButton" class="btn btn-primary" value="2">Mind altar</button>
    <button name="altar" id="waterButton" class="btn btn-primary" value="3">Water altar</button>
    <button name="altar" id="earthButton" class="btn btn-primary" value="4">Earth altar</button>
    <button name="altar" id="fireButton" class="btn btn-primary" value="5">Fire altar</button>
    <button name="altar" id="bodyButton" class="btn btn-primary" value="6">Body altar</button>
</div>
<p id="coordsParagraph" class="align-center">Mouse coordinates: <span id="coords">(0,&nbsp;0)</span></p>
<div id="canvasContainer" style="display: inline-block">
    <canvas id="gameCanvas" tabindex="1" class="pull-left" width="848" height="848">You do not have a HTML5-enabled browser. You should download the latest version of your browser.</canvas>
    <button id="deleteLastSpawnButton" class="btn btn-danger">Delete last spawn</button>
</div>
<div>
    <label for="spawnLink">Share link: </label> <a id="shareLink" href="" target="_blank">[^]</a><br />
    <input id="shareLinkText" class="for-copying" readonly />
</div>
<div>
    <label for="spawnLink">Share link (only these spawns): </label> <a id="shareLink2" href="" target="_blank">[^]</a><br />
    <input id="shareLink2Text" class="for-copying" readonly />
</div>
<h2 id="games">Mapped Games</h2>
<ul>
    <li>64 air duo yellow (Icy001 and iMaster Mike) • <a href="https://www.youtube.com/watch?v=QYt2eLWNDLE">Video</a> • <a href="~/Solo?altar=1&spawns=[[2,-4],[-8,0],[7,2],[-5,2],[-1,-6],[2,-6],[1,7],[-4,3],[-3,4],[4,7],[2,4],[3,-4],[-5,3],[6,6],[6,3],[7,6],[5,-6],[1,-5],[4,-3],[-5,-6],[-5,-2],[6,-2],[4,8],[0,-6],[-1,-7],[7,-4],[-3,8],[-5,-3],[3,-5],[-6,-8],[-3,8],[-7,0],[-4,6],[-2,6],[7,1],[2,4],[0,-9],[7,2],[-5,8],[-3,5],[7,2],[-5,-8],[-6,5],[-7,1],[-5,-7],[3,-7],[6,-4],[-4,-3],[7,-1],[-5,2],[-1,-7],[-1,8],[2,6],[-3,-5],[2,8],[3,-4],[5,-3],[-4,3],[-5,1],[5,-1],[4,-3],[6,-3],[5,0],[0,-6],[-5,6],[-2,-6]]">Play</a></li>
    <li>55 body duo yellow (Icy001 and Hoppeeee) • <a href="https://www.youtube.com/watch?v=e2CgoCXvfSY">Video</a> • <a href="~/Solo?altar=6&spawns=[[2,4],[7,-4],[3,-9],[-5,5],[-4,-8],[-7,5],[2,-4],[-8,-4],[-6,-4],[-8,0],[7,6],[-7,-2],[-11,1],[5,-3],[3,7],[1,-6],[-10,-3],[-8,2],[3,-6],[1,-5],[-5,0],[6,-4],[4,0],[-2,7],[6,0],[-4,-5],[-5,7],[3,-4],[-11,5],[0,-5],[6,-1],[-2,7],[-4,5],[-5,6],[-1,5],[-8,4],[-5,-4],[-4,-6],[0,-8],[-8,1],[4,-3],[-3,-4],[3,-5],[-3,6],[-8,-1],[8,0],[-5,-3],[3,-4],[5,0],[-15,5],[-4,-3],[-4,6],[-6,0],[-6,-5],[-7,5]]">Play</a></li>
    <li>12 mind solo green (Icy001) • <a href="https://www.youtube.com/watch?v=25r3Z7OgAqQ&t=15m48s">Video</a> • <a href="~/Solo?altar=2&spawns=[[15,1],[10,5],[3,12],[10,-2],[13,-8],[1,-14],[6,-16],[11,-12],[4,-9],[-16,-5],[7,-12],[-4,-16],[9,-12],[-11,11]]">Play</a></li>
    <li>45 air solo green (Timo) • <a href="~/Solo?altar=1&spawns=[[4,6],[5,0],[1,5],[6,5],[4,-2],[4,-5],[6,-4],[6,4],[-3,7],[2,-6],[2,-7],[-3,5],[-5,-4],[-4,-6],[4,2],[-8,-2],[-6,7],[4,3],[-4,-3],[-1,6],[-2,4],[-5,7],[6,4],[2,4],[-7,2],[-4,6],[-8,2],[5,8],[-4,6],[-7,3],[-1,-9],[-8,1],[5,-7],[-1,-7],[-4,8],[-6,-5],[3,6],[-6,2],[4,-6],[-6,-2],[3,6],[-5,-1],[4,-2],[2,-6],[7,-3],[-2,4],[7,4]]">Play</a></li>
    <li>49 water duo yellow (Icy001 and iMaster Mike) • <a href="https://www.youtube.com/watch?v=S4k9ZogtrZY">Video</a> • <a href="~/Solo?altar=3&spawns=[[2,4],[-6,-4],[8,-12],[12,-5],[-4,-4],[-2,6],[4,0],[-1,8],[7,2],[10,-9],[-9,3],[6,-1],[-3,-5],[5,-1],[11,0],[0,-5],[-3,-4],[4,3],[-4,-3],[8,2],[-6,-6],[-8,1],[-6,-2],[12,4],[5,-6],[-6,2],[7,-8],[6,-2],[-7,0],[-3,4],[13,-1],[-3,-5],[6,-6],[12,-2],[0,5],[-2,4],[-6,-2],[-9,1],[11,-6],[4,0],[-6,-1],[8,-5],[2,4],[2,5],[9,-2],[2,7],[-8,8],[5,-13],[11,-6]]">Play</a></li>
    <li>49 water duo green (Icy001 and iMaster Mike) • <a href="https://www.youtube.com/watch?v=HyxpQ9BXpzI">Video</a> • <a href="~/Solo?altar=3&spawns=[[2,4],[4,3],[8,0],[12,4],[2,4],[-8,3],[5,7],[8,6],[4,-5],[7,3],[-4,5],[3,-11],[0,-4],[10,-4],[14,-2],[6,-2],[14,2],[-6,-5],[-7,1],[-4,3],[8,-7],[4,8],[5,-3],[-6,0],[-5,-5],[8,-9],[-2,6],[7,-1],[5,2],[3,-12],[6,-6],[4,-8],[4,-12],[5,-3],[0,-8],[2,-12],[-4,-3],[3,-5],[7,-10],[-10,5],[10,-3],[-5,-2],[8,-3],[-3,4],[-4,4],[-6,2],[-6,-6],[-6,2],[0,-6]]">Play</a></li>
    <li>10 earth solo green (Icy001) • <a href="https://www.youtube.com/watch?v=fstbhUmjq3s&t=7m11s">Video</a> • <a href="~/Solo?altar=4&spawns=[[15,4],[16,5],[19,1],[-14,9],[-14,8],[4,11],[-10,10],[11,7],[-12,6],[-7,-15],[-13,-12],[11,-15],[-14,5]]">Play</a></li>
    <li>31 body solo yellow (Icy001) • <a href="https://www.youtube.com/watch?v=5PX4_9Ufr3M&t=11m52s">Video</a> • <a href="~/Solo?altar=6&spawns=[[4,2],[2,-7],[-12,4],[0,6],[7,6],[7,1],[6,-6],[-7,-4],[-10,2],[-10,6],[-1,5],[-6,5],[-3,-5],[-8,3],[-4,3],[8,1],[-4,-2],[-12,7],[-5,3],[-6,-6],[-3,4],[-9,3],[0,-7],[-4,-7],[4,4],[-6,-1],[-11,-3],[-9,7],[-3,8],[4,-6],[6,-1],[6,2],[6,0]]">Play</a></li>
    <li>13 mind solo yellow (9h3) • <a href="https://www.youtube.com/watch?v=mz1pS5blI3g&t=2m14s">Video</a> • <a href="~/Solo?altar=2&spawns=[[-16,7],[-16,-4],[-12,-8],[-1,-16],[9,0],[-3,-8],[-15,-7],[-2,12],[-12,-3],[-7,-9],[-9,8],[2,-11],[14,-3],[-13,0],[0,8],[12,-3]]">Play</a></li>
    <li>32 fire solo green (Icy001) • <a href="https://www.youtube.com/watch?v=Yt8c_FpMehQ">Video</a> • <a href="~/Solo?altar=5&spawns=[[3,4],[6,0],[4,9],[-4,-3],[-4,3],[-7,10],[6,6],[-5,1],[5,6],[-4,11],[-6,-5],[4,-3],[2,-4],[-7,-1],[3,10],[-8,0],[3,11],[0,9],[6,1],[4,7],[-7,8],[1,6],[3,-5],[-2,5],[-8,10],[7,1],[2,-5],[-8,-6],[-6,-2],[7,-2],[-6,-6],[0,10],[5,-3],[5,0]]">Play</a> • <a href="~/Solo?altar=5&spawns=[[3,4],[6,0],[4,9],[-4,-3],[-4,3],[-7,10],[6,6],[-5,1],[5,6],[-4,11],[-6,-5],[4,-3],[2,-4],[-7,-1],[3,10],[-8,0],[3,11],[0,9],[6,1],[4,7],[-7,8],[1,6],[3,-5],[-2,5],[-8,10],[7,1],[2,-5],[-8,-6],[-6,-2],[7,-2],[-6,-6],[0,10],[5,-3],[5,0]]&code={5489 5 (0,-2)r}A(-2,0)[2]B[4]A(0,-2)[2]AA(2,-2)CCCB(0,4)[3]AAA(0,-3)(0,-2)[4]C[4]AABBAABBCC(0,-2)[2]CCA[4]C(-7,6)[6]BB(-6,4)AABB(-2,0)(1,2)(0,2)CCCBBA(2,0)[2]BB(2,2)C[5](6,4)[3]AA(2,1)[2]BBBAABB(6,4)[2]CCCB(2,1)[2]BBBCCBB(0,-2)[3]AAACCB-B-AACCCA-CC(-2,-2)BBBAAACCBBB(-5,0)*AA(-4,0)B[4]-AAB(2,-1)AAACCA(1,-2)BBB{r}B-CCCA{r}ABBA(2,0)[2]CCCB(3,2)A[4]CCA(2,0)[2]A-[4]">How Icy001 played</a></li>
    <li>19 mind solo yellow (Uryuu Sado) • <a href="https://www.youtube.com/watch?v=rR5CGqDGmvs">Video</a> • <a href="~/Solo?altar=2&spawns=[[8,6],[-11,-4],[-7,-10],[-10,8],[-12,-3],[11,-1],[7,-7],[8,6],[-5,-8],[8,-1],[-12,10],[-9,8],[-11,-5],[12,-7],[10,-2],[9,-2],[8,1],[8,0],[13,-3],[-4,-8],[15,-6],[12,-9]]">Play</a> • <a href="~/Solo?altar=2&spawns=[[8,6],[-11,-4],[-7,-10],[-10,8],[-12,-3],[11,-1],[7,-7],[8,6],[-5,-8],[8,-1],[-12,10],[-9,8],[-11,-5],[12,-7],[10,-2],[9,-2],[8,1],[8,0],[13,-3],[-4,-8],[15,-6],[12,-9]]&code={5489 2 (2,0)r}-AAA(0,-2)[2]AAABBB(-4,-2)C[4](-2,-2)B[4](-2,0)(-2,2)A[5](0,2)BBBC[4](2,0)[2]AAA(0,-2)B[7](-2,2)[2]A[6](2,0)[3]B[4](2,4)[2]CC(2,3)[2]C[5]A(0,2)[2]C(-2,0)[2]A[4]B[4](-2,-4)BB(-1,-2)BB(-2,-1)BB(-2,1)C[5](0,2)CCB[5]A[4](-4,2)CCC(0,-2)[4]B[4]A[5]C[5]A[7]C[6](2,-3)A[4](0,-2)AA(2,-3)C[4](0,-2)CCA[6]C[4](2,0)CC(2,-2)AA(2,-1)AA(1,-2)AA(0,-9)">How Uryuu Sado played</a></li>
    <li>14 mind solo green (Icy001) • <a href="https://youtube.com/watch?v=J71xSVXepus&t=2m">Video</a> • <a href="~/Solo?altar=2&spawns=[[1,9],[9,8],[11,4],[-14,9],[10,-8],[-11,0],[8,-7],[12,-5],[-10,12],[-2,12],[-7,12],[9,-13],[13,-8],[-16,2],[-16,-6],[13,-16],[-14,8]]">Play</a></li>
    <li>Bad mind spawns • <a href="~/Solo?altar=2&spawns=[[14,-2],[1,-13],[-11,-1],[8,-15],[-13,0],[-12,7],[4,9],[-12,-10],[10,5],[-14,-2],[14,1],[14,-4],[-16,-6]]">Play</a></li>
    <li>28 mind duo yellow (Icy001 and iMaster Mike) • <a href="https://www.youtube.com/watch?v=D1z8ySwFiaE">Video</a> • <a href="~/Solo?altar=2&spawns=[[5,-14],[7,8],[14,2],[0,-14],[4,-15],[9,4],[8,2],[-13,4],[13,0],[0,-12],[4,8],[1,-9],[11,5],[4,-8],[0,-11],[8,6],[2,-15],[-15,-5],[-15,-4],[-3,-8],[9,-13],[6,8],[-2,11],[3,9],[8,6],[14,-9],[-11,9],[-10,9],[-12,6],[5,-16],[-11,-1]]">Play</a> • <a href="~/Solo?altar=2&spawns=[[5,-14],[7,8],[14,2],[0,-14],[4,-15],[9,4],[8,2],[-13,4],[13,0],[0,-12],[4,8],[1,-9],[11,5],[4,-8],[0,-11],[8,6],[2,-15],[-15,-5],[-15,-4],[-3,-8],[9,-13],[6,8],[-2,11],[3,9],[8,6],[14,-9],[-11,9],[-10,9],[-12,6],[5,-16],[-11,-1]]&code={0 2 (-5,1)r (2,-4)r}[(4,2)[4]*BB(6,-1)[2]*CC-*C(2,0)[2]*CC[4](1,-2)[2]*BB[6]*CC[4](-1,-8)[2]*CC*C{q}CC[7](1,-9){q}(1,-9)(3,-9)[2]*CC(2,-4)[3]*CC(0,-2){r}*AA[7]{r}(0,-5){q}*AA(0,-2){q}(0,-2)(0,-2)-*CC(8,-2)[4]*AA{r}AAA{r}(10,0){q}*AA[6](2,0){q}(2,0)(2,0)*BB-*C(2,0)(2,-4)[2]{r}*BB[9]{r}(2,-3)*CCC*AA*CCC*AAA(2,-4)[2]*CC-*C-*CCC(4,-6)[2]{q}*CC(2,-2){q}(2,-2)*AAAA*CC(0,-2)(2,-4)[2](4,-8)[2]{r}*BBB{r}(4,-3)(4,-3)*B{r}BBB{r}*AA[4]*C(2,-2)(1,-4)[2](2,-4)[2](0,-8)[2]*BBBB(-1,-8)[2]*BB*B{q}BB[9]-[7];(-1,-5)[2]*AAA-*A(-2,-2)[2]*BB[4](-2,0)(-2,1)[2]{r}*AAAA*CC*A{r}(-5,1)(-3,0)(-2,0)[2](-1,-3)[2]*AA{q}A{q}AA(0,-2)*BBB*A(-3,1)(-3,-1)*BB(-2,0)*AAAA*BBB*A(-3,-1)[2]*BBB-*BB*C{r}{q}C{q}C*B*C{r}CC(-2,2)[2]*BBBB(-2,0)[2]*B*CC-*CC*BBBB(0,-2)*CC[6](-2,0)[3]*A-*AAA-*C{r}CCC*AA*CC*AA*BB{r}(-2,0)(-2,0)*BBBB-*BB(0,2)[2]*BBB*AA(-2,0)[3]*AA{r}*BBB*BB[5](-2,0)*AAA*CC--{r}*AAA{r}*CC[5]*BBBB{r}(-5,1)(-5,1)[2]-(-11,9)[5]*AA(-9,9)*AA(-6,4)[3]*CC(-4,3)[2]*CC*A(-6,2){q}*CCCC(-2,0){q}(-2,0)(-2,0)[2]]">A sample 30 duo with these spawns</a>  • <a href="~/Solo?altar=2&spawns=[[5,-14],[7,8],[14,2],[0,-14],[4,-15],[9,4],[8,2],[-13,4],[13,0],[0,-12],[4,8],[1,-9],[11,5],[4,-8],[0,-11],[8,6],[2,-15],[-15,-5],[-15,-4],[-3,-8],[9,-13],[6,8],[-2,11],[3,9],[8,6],[14,-9],[-11,9],[-10,9],[-12,6],[5,-16],[-11,-1]]&code={0 2 (-5,1)r (2,-4)r}[(2,1)[4]*BB(7,0)(7,-1){r}*CCC-*C{r}(10,0)(10,0){q}*CC[5](2,0)[2]{q}(2,0)(2,0)[2](2,-1)*AAA(0,2)[3]*BBB*AAA*BB(-2,2)[2]*AA[4]*BBBB{r}BB{r}(-2,1)(-2,1)*BBB(-1,2)*B*BB(1,2)[2]*AAAA(-5,1)(-6,1)(-5,1)[2]*CCCC(-4,0)*BBBB*CCC*B(-5,1)[3]-(-2,0)(0,-2)*CC(0,-2)[2]*BB*CC*BB*C(-2,0)[2]*CC*B{r}BBB*CC*BB*CC{r}(-2,0)(-2,0)[2]-*A(-4,0)(-5,1)[2]--(-2,0)[3]*BB-{r}*CCC*BBB*CCC{r}CC(-2,0)[2]*A-*AAA*BB---*A{r}A*BBB*CC[5](-8,8){r}(-8,8)(-9,9)[2](-11,9)[2]*CC(-9,8)*CC(-6,5)(-5,5)*BB(-4,3)[2]*BB(-1,2)[2]*BBBB-[7];(-1,-5)[2]*AAA-*A(-2,0)[2]*BB[4]*AA(-1,-2)*AAA*A{q}A{q}*B*BB[4](0,-8)[2]*CCC(-1,-8)[2]*CC*C{q}CC[6]{q}(2,-4)(2,-4)[3](2,-8)[2]*CCC*A(2,-4)[2]*CCC*AA*C(1,-2)*CCC*B(-1,-2)[2]*BBB(7,-1)[2](8,-2)[3]*AA{r}AAA{r}(10,0)(10,0){q}*AA[5](2,0){q}(2,0)(2,-3)(1,-3)(2,-4)*AA[7](2,-1)[2]*AA[4](1,-2)(0,-4)(0,-2)[2]{r}*AAAA*BB*CC*BBB*CCC{r}*AAA-*A-*AAA(4,-6){q}*AAA(2,-2){q}*BB[4](2,-5)[2](5,-8)[2]{r}*CC{r}CC(7,-6)*CC(5,-4)*A*AAA*BB*AA*B(0,-2)[2]--(0,-5)[2]*AA[4](2,-14){q}(2,-14)*AA[13]---]">Another 30 duo with these spawns</a></li>
    <li>28 mind duo yellow (Icy001 and Deobfuscated) • <a href="https://www.youtube.com/watch?v=RE0VvAxNoXU">Video</a> • <a href="~/Solo?altar=2&start=[[2,-4],[-5,1]]&spawns=[[-13,2],[-12,-2],[9,-1],[-5,12],[7,-12],[3,-10],[10,3],[-7,8],[2,12],[9,-1],[9,-5],[6,-12],[-9,-10],[8,7],[14,-5],[-10,4],[7,-6],[-11,-3],[8,-7],[-12,10],[-4,11],[10,-13],[8,-12],[9,-12],[3,-16],[13,-10],[12,2],[15,-9],[10,-4],[11,-3],[-15,-7]]">Play duo</a> • <a href="~/Solo?altar=2&spawns=[[-13,2],[-12,-2],[9,-1],[-5,12],[7,-12],[3,-10],[10,3],[-7,8],[2,12],[9,-1],[9,-5],[6,-12],[-9,-10],[8,7],[14,-5],[-10,4],[7,-6],[-11,-3],[8,-7],[-12,10],[-4,11],[10,-13],[8,-12],[9,-12],[3,-16],[13,-10],[12,2],[15,-9],[10,-4],[11,-3],[-15,-7]]">Play solo</a> • <a href="~/Solo?altar=2&start=[[2,-4],[-5,1]]&spawns=[[-13,2],[-12,-2],[9,-1],[-5,12],[7,-12],[3,-10],[10,3],[-7,8],[2,12],[9,-1],[9,-5],[6,-12],[-9,-10],[8,7],[14,-5],[-10,4],[7,-6],[-11,-3],[8,-7],[-12,10],[-4,11],[10,-13],[8,-12],[9,-12],[3,-16],[13,-10],[12,2],[15,-9],[10,-4],[11,-3],[-15,-7]]&code={70%202%20(2,-4)r%20(-5,1)r}[*CC(1,-2)*CCCC{r}*AAAA*BBB*AAAA{r}A(2,-2)[2]*B(2,-1)[2]*BBB*C(2,-2)(2,-1)[2]*AA*C-*C-*C(1,5){r}*BBBB*A{r}(2,-3)(2,-4)[3]*CC*AA(1,-2)[2]-(8,-3)[2](6,-2)*BBBB(0,-2)[3]*AAA*BB*AAA*B(0,-4)[2]{q}*B(1,-5){q}(2,-5)*A{r}AA{r}AAAA*A(3,-1)(3,0)[2]{r}*BBBB{r}B(2,-1)[2]*AA*CC[4]*BB*C*BBBB*CC-*CCCC*B-*B(1,-2)[2]*AAA-*AA(1,-6)[2]*CC-*CCCC(3,-6)*BBB(6,-5)[2]*B(5,-5)[2]*A--*A(6,0)(6,-2)*CC(6,-1)[2]*CC*BB*CC*AAA(8,-2)[2]{q}*AAAA(2,0)[2]{q}(2,0)(2,0)--(3,-2)[2]*CCCC(2,0)*BBB*C*BB[6]---;*AA(-5,-1)*BB[5](-5,1)[2](-2,2)[2]*CC[5](-1,3)[2]*C(-2,1){r}*AA-*A-*A-*BB[5]*AA[4]*C(-2,0)(-2,-1)-*BBB-*B-*C*CCC*AAA(-2,0)[2]*A{r}(-7,-1)(-7,-1)[2]*CCCC(-5,-2)[2]*CC(-7,-4)[2]{q}*CCC(-5,1){q}(-5,1)(-5,1)[2]*BB(-4,2)*CC[4]*AAA(-4,2)(-5,1)[2]*C(-3,0)(-2,1)[2]-*BB*AA-[5]*AAA(-1,3)[2]*AA(-3,1)[2]*AA*CCC*BB--*BBBB*AAA(-2,0)[2]-(-2,1)[2]-*C{r}CCC-*C-*BB[4]{r}*AA[9]-*BBBB*CCCC*B{r}BBBB*C*BBB{r}(-6,4)*AA[5]*AAA(-7,2){q}*AAAA(-5,1)---]">A 33 duo with these spawns</a></li>
    <li>22 mind duo yellow (Icy001 and iMaster Mike) • <a href="https://www.youtube.com/watch?v=W54o48p1MP8">Video</a> • <a href="~/Solo?altar=2&start=[[2,-4],[-5,1]]&spawns=[[-15,5],[-14,4],[8,-11],[-6,-10],[9,-4],[6,-11],[-15,-4],[-15,5],[-9,9],[10,-8],[-12,5],[11,-13],[-2,-8],[-7,9],[0,11],[-7,12],[9,-2],[11,-4],[8,0],[-16,5],[2,-16],[13,-1],[-7,-8],[12,5],[8,1]]">Play duo</a> • <a href="~/Solo?altar=2&spawns=[[-15,5],[-14,4],[8,-11],[-6,-10],[9,-4],[6,-11],[-15,-4],[-15,5],[-9,9],[10,-8],[-12,5],[11,-13],[-2,-8],[-7,9],[0,11],[-7,12],[9,-2],[11,-4],[8,0],[-16,5],[2,-16],[13,-1],[-7,-8],[12,5],[8,1]]">Play solo</a> <a href="~/gop3dtest/?spawns=[[-15,5],[-14,4],[8,-11],[-6,-10],[9,-4],[6,-11],[-15,-4],[-15,5],[-9,9],[10,-8],[-12,5],[11,-13],[-2,-8],[-7,9],[0,11],[-7,12],[9,-2],[11,-4],[8,0],[-16,5],[2,-16],[13,-1],[-7,-8],[12,5],[8,1]]&code={24+2+(2,-4)r+(-5,1)r}[*CC(1,-2)*BB{r}B*CCC*BB[4]*AA[6]{r}*CCC{r}C{r}(6,-2)*AAA-*B(2,-2)[3](1,-2)[2]-*A(2,-1)[2]*A(1,-2)[2]-*BB[5]-*AA*AAAA{r}*CC[7]{r}*BBB(0,-4){q}*BBB{q}*C(1,-3)[2]*C(0,-2)*AA[9](3,-1)(1,-2)[2]-(3,-1)*AAA(1,-2)[2]*AAA*BB*AA*BBBB*AA[5]*BBBB(2,-1)[2]*BB(1,-3)[2]*B*CC(1,-2)[2](2,-4)*BB(4,-7)*CCC(3,-5)[2]*BB[7](2,-7){q}*BBBB(2,-4){q}(2,-4)(2,-4)-*CCC*AA-*B*AAAA(7,-2){q}*AAAA(5,-2){q}(5,-2)*BBB*AAA-*C(0,-2)[4]---*B-*B-*B-*B(0,-9)[4];*BB(-9,0)[2]*AA(-7,1)[2]*AAAA(-5,2){r}*CCC{r}(-5,1)(-5,1)*B*BBB(-2,-1)[3]*B-*B(-2,1){r}*CCCC*AA{r}*B{r}BB[5]{r}(-9,0)(-9,0)*CC(-9,0){r}*AA{r}(-7,1)*C*CCC(-5,2)(-4,2)*BB[5](-10,8)(-11,9)(-11,10)[4]*AAA(-9,8)*AA(-3,2)[2](-3,1)[2]*BBB*CC*BB*CCC*A(-8,9)(-10,8)(-11,8)[3]*BB(-10,7)*BB*CCCC(-10,9){q}*CC[6](-5,3)[2](-2,0){q}(-2,0)(-2,0)[2]*CCC*AA[7](-1,2)(0,2)[2]*AA[6]{r}*CC-*C-*AA*C-*AAA*C{r}(-5,1)(-5,1)[3](-2,2)[3]--*CCCC*BB-*BBB*CCC(-2,1)[2]*CCC{r}*BB[4]*AA{r}A(-1,-4)(0,-9)[5]-[7]]">A 30 duo with these spawns</a></li>
</ul>

@section Scripts {
    <script src="~/js/gop.min.js"></script>
    <script src="~/js/utils.js"></script>
    <script src="~/js/anglemap.js"></script>
    <script>
        var anglemap = new Anglemap($("#gameCanvas")[0]);
        var spawnList = [];

        function deleteLastSpawn() {
            var lastSpawn = spawnList.pop();
            if (lastSpawn !== undefined) {
                var oldInvalidatedSquares = anglemap.invalidatedSquares;
                anglemap.invalidatedSquares = [new Point(lastSpawn[0], lastSpawn[1])];
                anglemap.drawGrid();
                anglemap.invalidatedSquares = oldInvalidatedSquares;

                updateShareLinks();
            }
        }

        function updateCoords(element, p) {
            if (isNaN(p.x) || isNaN(p.y))
                element.innerText = "N/A";
            else
                element.innerText = "(" + p.x + ",\u00A0" + p.y + ")";
        }

        function updateShareLinks() {
            var basePathStr = "http://@(Context.Request.Host)/Solo";
            var numorbsUrlStr = "numorbs=" + spawnList.length;
            var altarUrlStr = "altar=" + anglemap.currentAltar;
            var spawnsUrlStr = "spawns=" + JSON.stringify(spawnList);
            var shareUrl = basePathStr + "?" + altarUrlStr + "&" + spawnsUrlStr;
            var share2Url = basePathStr + "?" + numorbsUrlStr + "&" + altarUrlStr + "&" + spawnsUrlStr;
            $("#shareLinkText").val(shareUrl);
            $("#shareLink").attr("href", shareUrl);
            $("#shareLink2Text").val(share2Url);
            $("#shareLink2").attr("href", share2Url);
        }

        $("#gameCanvas").mousedown(function (e) {
            if (e.button !== 0)
                return;

            var offX = (e.offsetX || e.pageX - $(e.target).offset().left);
            var offY = (e.offsetY || e.pageY - $(e.target).offset().top);
            var p = anglemap.fromScreenCoords(offX, offY);
            spawnList.push([p.x, p.y]);

            var s = anglemap.toScreenCoords(p.x, p.y);
            anglemap.context.font = "12px Consolas";
            anglemap.context.textAlign = "center";
            anglemap.context.textBaseline = "middle";
            anglemap.context.fillStyle = "white";
            anglemap.context.fillText(spawnList.length, s.x + anglemap.cellWidth / 2, s.y + anglemap.cellHeight / 2);

            updateShareLinks();
        });

        $("#gameCanvas")
            .mousemove(function (e) { updateCoords(coords, anglemap.fromScreenCoords(e.offsetX, e.offsetY)); })
            .keydown(function (e) {
                if (e.ctrlKey && e.key === "z") {
                    deleteLastSpawn();
                }
            });

        $("button[name='altar']").click(function () {
            spawnList = [];
            anglemap.setAltar(parseInt($(this).val()));
            updateShareLinks();
        });

        $("#deleteLastSpawnButton").click(deleteLastSpawn);

        $(".for-copying").click(function () {
            $(this).select();
        });
    </script>
}
